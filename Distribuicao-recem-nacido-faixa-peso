install.packages("tidyverse")
install.packages("readxl")
install.packages("arrow")

install.packages("dplyr")
install.packages("stringr")
install.packages("lubridate")
install.packages("readr")
install.packages("ggplot2")
install.packages("tibble")
install.packages("tidyr")
install.packages("readxl")
install.packages("arrow")

library("tidyverse")
library("readxl")
library("arrow")

library("dplyr")
library("stringr")
library("lubridate")
library("readr")
library("ggplot2")
library("tibble")
library("tidyr")
library("readxl")
library("arrow")

grafico_barras <- recem_nascidos %>%
  count(faixa_peso) %>%                     # Contar frequência por faixa
  mutate(percentual = n / sum(n) * 100) %>% # Calcular percentual
  ggplot(aes(x = faixa_peso, y = percentual)) +
  geom_col(fill = "steelblue") +
  geom_text(aes(label = paste0(round(percentual, 1), "%")), 
            vjust = -0.5, size = 4) +       # Adicionar rótulos
  labs(
    title = "Distribuição dos recém-nascidos por faixa de peso",
    x = "Faixa de peso",
    y = "Percentual (%)"
  ) +
  theme_minimal() +
  ylim(0, 100)

grafico_barras
